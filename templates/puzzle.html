<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Memory Flip Game</title>
  <style>
    *{box-sizing:border-box;font-family:'Poppins',sans-serif;}
    body{
      background:radial-gradient(circle at top,#667eea,#764ba2);
      color:white; text-align:center; margin:0; padding:0;
    }
    h1{margin-top:20px;font-size:28px;}
    #username-display{color:#ffe082;margin-bottom:10px;}
    #board{
      display:grid; grid-template-columns:repeat(4,90px); gap:15px;
      justify-content:center; margin:40px auto;
    }
    .card{
      width:90px;height:90px; background:rgba(255,255,255,0.1);
      border-radius:12px; display:flex; align-items:center; justify-content:center;
      font-size:35px; cursor:pointer; transition:transform 0.3s,background 0.3s;
      box-shadow:0 4px 8px rgba(0,0,0,0.2);
    }
    .card.flipped{
      background:rgba(255,255,255,0.8); color:#333; transform:scale(1.1);
    }
    #reset{
      background:#ffb74d; color:white; padding:10px 20px; border:none;
      border-radius:8px; cursor:pointer; font-size:16px;
      box-shadow:0 4px 10px rgba(0,0,0,0.2);
    }
    #reset:hover{background:#ff9800;}
  </style>
</head>
<body>
  <h1>üß† Memory Flip Game</h1>
  <div id="username-display"></div>
  <div id="board"></div>
  <button id="reset" onclick="startGame()">üîÅ Restart</button>

  <script>
    const emojis=['üçé','üçå','üçá','üçì','üçí','ü•ù','üçç','üçâ'];
    let cards,flipped=[],matched=0;

    // show username
    const user=sessionStorage.getItem("username")||"Player";
    document.getElementById('username-display').innerText=`Welcome, ${user}!`;

    function startGame(){
      const board=document.getElementById('board');
      board.innerHTML='';
      matched=0;
      cards=[...emojis,...emojis].sort(()=>Math.random()-0.5);
      cards.forEach(e=>{
        const c=document.createElement('div');
        c.className='card'; c.dataset.value=e;
        c.onclick=()=>flip(c);
        board.appendChild(c);
      });
    }

    function flip(c){
      if(c.classList.contains('flipped')||flipped.length===2)return;
      c.classList.add('flipped'); c.textContent=c.dataset.value; flipped.push(c);

      if(flipped.length===2){
        if(flipped[0].dataset.value===flipped[1].dataset.value){
          matched+=2; flipped=[];
          if(matched===cards.length)setTimeout(()=>alert("üéâ You Won, "+user+"!"),400);
        } else {
          setTimeout(()=>{
            flipped.forEach(x=>{x.classList.remove('flipped');x.textContent='';});
            flipped=[];
          },800);
        }
      }
    }
    startGame();
  </script>
</body>
</html>
